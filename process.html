<!DOCTYPE html>
<html lang="en-CA"> 
    <head>
        <!-- https://jarlo72.github.io/web1/process.html will change once imported to Luna -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--to make it responsive--> 
        <meta charset="UTF-8">
        <title>LiDAR LASs Methodology</title>
        <link rel="stylesheet" href="stylesheet.css">
        <link rel="icon" href="Photos/logo.png"> <!--Reference: https://www.delftstack.com/howto/html/html-tab-icon/-->
    </head>
    <body>
        <nav class="topnav" id="myTopnav">
            <a href="index.html">Home</a> 
            <a class="active" href="process.html">Methodology and Process</a> 
            <a href="solution.html">Solution</a>
            <a href="Team.html">Associates</a>
            <a class ="solutionlink" href="#" target="_blank">Web Application</a>
        </nav>

        <header>
            <figure> 
                <img src="Photos/logo.png" alt="LiDAR LAS's logo" id="logo"> 
            </figure>                
        </header> 
        <main>
            <section>
                <h2 class="projectTitle">Methodologies Used</h2>

                <!-- Start of Data Acquisition and Processing -->
                <article class="ContentParagraph"><h3 class="underlineTitle">Data Acquisition and Processing</h3> 
                    <p> The project team was provided with GIS and point cloud data from the client for all forested land within UCPR. Additionally, the client provided
                        the forest management plan and its current 5-year operations plan.  </p>
                </article>
                <article class = "serve leftText">
                    <div class="textZone">
                        <h4> Additional Data Collection</h4>
                        <p> The team assembled base data from various sources for roads, watercourses, trails, and soils. Data resources were collected from the 
                                Province  of Ontario <a href = https://geohub.lio.gov.on.ca/ target="_blank">Ontario GeoHub</a> (for roads, soils, watercourse and water bodies), 
                                the United Counties of Prescott and Russell (UCPR) as the owner of the lands (trail routes and ortho imagery). 
                        </p>
                    </div>
                    <figure class="picBox">
                        <img src="Photos/Logos/GeoHub.png" alt="GeoHub Logo" class="smallimageright">
                    </figure> 
                </article>

                <article class = "serve rightText">
                    <div class="textZone">
                    <h4>Data Processing</h4>
                    <p> 
                        All CRIBE data was downloaded from CRIBE’s ArcGIS Online portal and brought into ArcGIS Pro on each team member's laptops. The GeoHUB data was added, as well as the UCPR 
                        trail data and DRAPE Photos.  All data was converted to NAD83 UTM Zone 18N projection and clipped to the contiguous portion of the Larose Forest.  Any raster created for 
                        the project was assigned a 5m cell size.   
                    </p>
                    </div>
                    <figure class="picBox">
                        <img src="Photos/Logos/ArcGIS-Pro.png" alt="ArcGIS Pro" class="smallimageleft"> <!-- Image from: https://www.esri.com/content/dam/esrisites/en-us/common/icons/product-logos/ArcGISOnline.png --> 
                    </figure>
                </article>
                <article class = "serve leftText">
                    <div class = "textZone">
                    <h4>Sharing Data Portals</h4>
                    <p> Due to the volume of data needed for our project, the team made extensive use of 
                        <a href="https://www.esri.com/en-us/arcgis/products/arcgis-online/overview" target="_blank">ArcGIS Online (AGOL)</a> to store, use and share our data. A base map was 
                        created and published to the group’s work area created on Fleming’s AGOL portal so all members were assured to use the same base data at the start of the project. Any 
                        new layers created during the project was published to the group portal.  Additionally, the 2020 DRAPE air Photos were accessed through UCPR's portal as cached viewable
                        Photos.
                    </p>  
                    </div>  
                    <figure class="picBox">
                        <img src="Photos/Logos/ArcGIS Online.png" alt=" API map" class="smallimageright"> <!--Reference: https://www.esri.ca/en-ca/store/overview-->
                    </figure>         
                </article>
                 <!-- Start of LiDAR  Processing -->
                <article class="ContentParagraph"><h3 class="underlineTitle">LiDAR Processing</h3> 
                    <p> Being able to show the public a 3D view of the forest and its trails is key to explaining the importance and impact of forest management.  The team spent considerable 
                        time researching and creating different methods to show 3D views.</p>
                <article class = "serve leftText">
                    <div class="textZone">
                    <h4>LiDAR Point Cloud Data Processing</h4>
                     <p> Cut/Paste from the LiDAR Processing section of the final report.  For now, here is a space filler to get a sense of how long our web page will be.  "Lorem ipsum dolor sit amet, 
                        consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut 
                        aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non 
                        proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
                    </p>  
                    <p> Even more....  "Lorem ipsum dolor sit amet, 
                        consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut 
                        aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non 
                        proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
                    </p> 
                    <p> And yet more AGAIN!     "Lorem ipsum dolor sit amet, 
                        consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut 
                        aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non 
                        proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
                    </p> 
                    </div>
                    <figure class="picBox">
                        <img src="Photos/Map Output/LiDAR Point DRAFT.jpg" alt="LiDAR Point Cloud" class="smallimageright"> 
                    </figure>
                </article>
                 <article class = "serve rightText">
                    <div class = "textZone">
                    <h4>3D Scenes</h4>
                    <p> This is where we put the blurb from the final report that is all about the 3D Scenes. I'm putting in lots of text here to fill up the screen but 
                        this should be deleted for the final product.
                    </p>  
                    </div>  
                    <figure class="picBox">
                        <img src="Photos/Map Output/3D Scene DRAFT.jpg" alt="3D Scene" class="smallimageleft"> 
                    </figure>
                </article>
                </article>

                <!-- Start of Spatial Analysis -->
                <article> 
                    <div class="ContentParagraph">
                    <h3 class="underlineTitle">Spatial Analysis</h3> 
                    <p> This segment in our methodology covers the process of locating possible new trail routes for those trails that will be impacted by forest harvesting, as well
                        as the calculations of income generated by forest harvesting.
                    </p>
                    <h4>Determining Where Harvesting Will Take Place</h4>
                    <p> Our client had provided a polygon layer of all the forest woodlots.  Detailed information for each woodlot included the year of proposed harvesting
                        as well as the suggested harvest method.  The client requested we investigate only the woodlots that are in the current 5-year operations plan (spanning 
                        the years 2021 to 2025), and requested we focus exclusively on the 2022-to 2025 time frame.  The woodlot (polygons), trailheads (points), and trails (polylines)
                        would serve as the primary operational layers in this application.
                    </p> 
                    <p> Upon further discussion with the client and the UCPR forest manager, the decision was made to focus on hiking and biking trails since these are the most popular trails,
                        and the ones most impacted by trail closures.  So although some woodlots are being harvested in the 2022-2025 time frame, if they have no trails or if there are trails 
                        that are not hiking or cycling, they were not considered for analysis.
                    </p> 
                    <img class="solutionImage" src="Photos/Map Output/Existing Trails DRAFT.jpg" alt="Existing Trails Map">
                    <h4>Parameters for Analysis</h4>
                    <p> These parameters were investigated as inputs for the least cost path analysis:
                        <ul>
                            <li>Distance to Water</li>
                            <li>Distance to Roads</li>
                            <li>Distance to Houses or Buildings</li>
                            <li>Soil Drainage</li>
                            <li>Age of Trees within Forest Stands</li>
                            <li>Ground Slope</li>
                            <li>TYpe of Proposed Harvesting</li>
                            <li>Year of Proposed Harvesting</li>
                        </ul>  
                    </p>
                    <p>
                        If portions of the recreational trails are affected, a least cost path analysis was carried out to suggest an alternative route for a trail by-pass. The team created 
                        a weighted cost surface of the Larose Forest from the criteria listed above that will influence trail quality. An example of alternative trails can be seen below, where the
                        existing trails are shown in green, and the proposed trails are in red.    
                    </p>
                            <img class="solutionImage" src="Photos/Map Output/Proposed Trails DRAFT.jpg" alt="Proposed Trails">
                    <h4>Forest Income</h4>
                    <p> By querying the forest woodlots polygon, the team was able to deduce which areas were to be harvested in the 2022 to 2025 time frame.  In addition, the area of each
                        harvest, the tree species, and the biomass volume data could be extracted from the GIS.  Based on input from the client, approximate income streams from each woodlot
                        was calculated in ModelBuilder models.  Should prices change from year to year, a simple change to the unit rate re-calculates potential income to current values.  Having 
                        this information, the client can show to the public the financial benefits of harvesting that could potentially be re-invested back into  Larose Forest infrastructure.  
                        TO BE CONTINUED ONCE I"VE RUN THE MODELS.
                    </p> 
                    </div>
                </article>

                <!-- Start of Experience Builder -->
                <article> 
                    <div class="ContentParagraph">
                    <h3 class="underlineTitle">Creating a Web App Using Experience Builder</h3>
                    <p> This segment in our methodology covers the process of building the web app that our client could use to reach out to the public about forest management
                        and explain how trails may be impacted.</p>
                    <h4>Why Experience Builder?</h4> 
                    <p> Just Christie's suggestion and delete if you want.  A brief explanation as to why we are using Experience Builder.
                    </p>
                    <h4>Process</h4>
                    <p> In preparation for building the Experience Builder web app, our team created a Shared Update group on our client's AGOL account to allow all team members to contribute 
                        to the editing. Megan to expand ... 
                    </p>
                    <p> For now, here is a space filler to get a sense of how long our web page will be.  "Lorem ipsum dolor sit amet, 
                        consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut 
                        aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non 
                        proident, sunt in culpa qui officia deserunt mollit anim id est laborum.".    
                    </p>
                    <h5>Flyover</h5>
                    <p> Christie's suggestion that can be deleted if you want.  Includ a separate BECAUSE IT IS COOL!!!! "Lorem ipsum dolor sit amet, 
                        consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut 
                        aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non 
                        proident, sunt in culpa qui officia deserunt mollit anim id est laborum.".
                    </p>
                    <h5>Extra Info to Add?</h5>
                    <p> Blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah.
                        Blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah.
                        Blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah.
                        Blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah blah.
                    </p>
                    <h4>Discussion on Shortfalls, Limitations or What Went Wrong</h4>
                    <p> Based on our exploration of creating a Map Tour in our StoryMaps, our team decided to use the non-data driven approach to create a guided tour of the Vancouver Island 
                        Trail. Although the data-driven approach secured the most accurate locations for trailheads, it autogenerated the Map Tour from the trailhead feature layer data 
                        exclusively, creating stops at each trailhead in the trailhead feature layer. The auto generation of the tour extended to the descriptive side panels for each trail 
                        head or tour stop as well. Where the side panels were autogenerated using a data-driven approach, we could not add in trail Photos, trail profile graphs, and include 
                        trail descriptions into the panel while using StoryMaps. While using a non-data driven approach, each stop and associated description side panel was created manually 
                        which allowed us to add in trail names, elevation profiles, trail descriptions, and Photos. 
                    </p>
                    <p> The data driven approach also did not allow us to create a 3D perspective of the trail. Given the diverse topography of the area, we wanted to highlight elevation ranges 
                        using a 3D perspective of the trail system. The data driven approach only accepted point features as stops, and in between each trailhead stop, the pan to the next trailhead 
                        was linear and fast, resulting in the tour not visualizing the trail for the user well but just the trailhead. Using a non-data driven with trailheads as stops, we were able 
                        to adjust the 2D scene into a 3D scene and change the perspective of the map by adjusting the aspect to influence the pan between stops to show the trail section. With the 
                         capabilities of a 3D scene, we angled the perspective so that the view at any time in the tour was from one trailhead to the next. When moving onto the next trailhead, the 
                         map panned with the direction of the trail allowing the user to observe the trail.
                    </p>
                    <p> Although the non-data driven approach was not as accurate for trailhead locations, we were able to include accurate data for trailheads onto the base map used in the non-data 
                        driven approach and manually add in tour stops that corresponded to the trailhead feature layer. Given that the purpose of the StoryMaps is not for navigation but rather for 
                        guiding and introducing users to the Vancouver Island Trail through a guided tour, we decided that the trailhead stops did not have to be accurate to a navigational standard. 
                    </p>
                    <p> In our final review of our created StoryMaps, there were some technical limitations with the configurable tool that did not cover our vision for a web application for the 
                        Vancouver Island Trail. We needed to create an additional solution that was more customizable, that would allow a user to explore the area through a self-guided tour and query 
                        from the web map.  
                    </p>
                    </div>
                </article>

                <!-- Start of API Map -->
                <article> 
                    <div class="ContentParagraph"><h3 class="underlineTitle">Creating an ArcGIS API for JavaScript Map</h3> 
                        <h4>Lead-Up</h4>
                        <p> Our next objective was to find a more customizable solution that would act as a self-guided tour (i.e. more interactive features) that would be complementary to the StoryMaps. 
                            A potential solution would be something like the <a href="https://github.com/Esri/hiking-trails-app">Swiss hiking trail application</a>. Our approach would be to use the provided libraries, 
                            coding and documentation but alter the service and data to match what we have. Unfortunately, due to technical problems getting this application built and running with the base 
                            data alone, we abandoned this resource. It seemed either beyond our skill level or beyond the scope of our project (i.e. not a good use of time) to troubleshoot these errors. However, 
                            we realized the functionalities we were trying to emulate could be done via <a href="https://developers.arcgis.com/javascript/latest/">ArcGIS API for JavaScript</a>. 
                        </p>
                        <p> ArcGIS API for JavaScript would be beneficial to us in two ways: First, it offered highly customizable solutions due to the coding involved, allowing low-level control over the features 
                            we incorporate. Second, we were familiar with this API and its documentation due to being part of the GEOM99 curriculum.</p>
                        <h4>Process</h4>
                        <p> The approach to the development of a web map using ArcGIS API for JavaScript was using the tutorials and documentation to explore and implement which features were relevant to a trail map. 
                            We would use the sample codes provided in the documentation to start off and adapt it accordingly.</p>    
                        <p> The basis of this interactive web map would be a 3D perspective of the trail and its surroundings which the user may pan over. To do that, a web scene was created from the trail track and 
                            trailhead feature layers, and symbolized appropriately, as was done for the initial web map.</p>
                        <p> From that, we would try to add features including functionality to change base maps, display and track location, a legend, expandable widgets, sketching and measuring polylines, customized 
                            pop-ups and elevation profiles. We understood there could be more features to add that would be an appropriate trail map but rationalized this would be sufficient for us to tackle within our 
                            limited time.</p>
                        <p> In the end, we were able to produce an interactive web map that displays the trails and trailheads, gives the user various viewing controls (zoom, pan, rotate) in a 3D environment, with 
                            location tracking, functionality to change base maps, legend, expandable widgets and create custom elevation profiles.</p>
                        <h4>Discussion on Shortfalls, Limitations or What Went Wrong</h4>
                        <p> Throughout the process of developing a trail map of Vancouver Island Trail using ArcGIS API for JavaScript, the main challenges we encountered involved interpreting and adapting the sample 
                            codes to our needs. In essence, we were working at a high-level, recognizing syntax patterns and trying to see which codes worked via trial and error. There were many times when the sample 
                            codes provided in the tutorial did not work the way we wanted (if at all) and the documentation was either too vague or incomplete for us to resolve it. This was the case when trying to 
                            implement the custom pop-ups feature. However, in most of the case where the documentation was specific, accessible, and the sample coding was simple to take apart and understand, 
                            we overcame these challenges.</p>
                        <p> We did find we were limited in our general understanding of coding, specifically in JavaScript. In the end, we learned how to manipulate the provided code but would not be capable of 
                            developing it from scratch.</p>
                        <p> There was considerable back and forth with regards to adding functionality to sketch and measure polylines on the 3D map. The idea here was to allow the user to measure the distances on the 
                            trail they would like to hike. In this case, a lot of time was spent figuring out why the sketch and measurement outputs would not display on the map, despite the widget and sketching operations 
                            being apparent. In the end, it was found that the graphic layer was not being “viewed” on the right layer, and hence was being hidden. It would work after this, however, upon discussion, we 
                            rationalized that this feature was clunky and did not add value to the trail map.</p>
                        <p> Instead, we opted for an elevation profile widget that provides more extensive features than measuring a polyline and is more valuable to the user and has provided modules, accessible documentation and sample code to reference. 
                            Again, there were initial difficulty integrating the code. Fortunately, some of the code from the now-obsolete polyline sketching feature worked well with the elevation profile. A little more 
                            re-arranging and variable renaming, now an elevation profile functionality is enabled. Although the polyline sketch/measurement was a misstep in hindsight, the knowledge (and coding) gained 
                            from it helped to produce an even better end-product.</p>
                        <h4>Lessons Learned</h4>
                        <p> We realized that to adapt the provided code to the way we want it, a comprehensive, low-level understanding of what the code is required; a high-level understanding is not sufficient when troubleshooting. 
                            This could be achieved mainly by spending time exploring the documentation and gaining experience.</p>
                        <p> With this in mind, developing an application does not seem so daunting when considering the resources to draw from. We understand now that it is more efficient and even encouraged to build upon existing 
                            works rather than starting from scratch (i.e. do not re-invent the wheel).</p>     
                    </div>
                </article>
   
            </section>
        </main>
        
        <footer> 
            <p class="footernotes">LiDAR LASs. All Rights Reserved. Any LiDAR LASs products are Trademarks owned by Group 2223 Collaborative Project Course 2022.</p>
            <p class="footernotes">Email: <a class=deadlink>infoinquest@LiDARLAS.ca</a> | Phone: <a class=deadlink>(416) 888-8888</a> | <a class=deadlink>Terms of Use</a> | <a class=deadlink>Privacy Statement</a> | <a class=deadlink>Accessibility</a></p>
        </footer>
    </body>
</html>
